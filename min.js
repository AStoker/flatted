var Flatted=function(a){return{parse:function(n){var t=JSON.parse(n,e);return function i(u,f,n){return Object.keys(n).reduce(function(n,t){var r=n[t];if(r instanceof a){var e=u[r];"object"!=typeof e||f.has(e)?n[t]=e:(f.add(e),n[t]=i(u,f,e))}return n},n)}(t.map(r),new Set,t[0])},stringify:function(n){for(var u,t=0,f=new Map,r=(f.set(n,""+t),[]),a=[n],e=function(n,t){if(u)return u=!u,t;switch(typeof t){case"object":if(null===t)return t;case"string":return f.get(t)||(r=f,i=""+(a.push(e=t)-1),r.set(e,i),i)}var r,e,i;return t};t<a.length;t++)u=!0,r[t]=JSON.stringify(a[t],e);return"["+r.join(",")+"]"}};function r(n){return n instanceof a?""+n:n}function e(n,t){return"string"==typeof t?new a(t):t}}(String);
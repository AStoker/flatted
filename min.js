/*! (c) 2018, Andrea Giammarchi, (ISC) */
var Flatted=function(c,s){return{parse:function(n,t){var r=JSON.parse(n,f).map(i),e=r[0],u=t||p;return u("","object"==typeof e&&e?function u(i,f,n,o){return Object.keys(n).reduce(function(n,t){var r=n[t];if(r instanceof c){var e=i[r];"object"!=typeof e||f.has(e)?n[t]=o(t,e):(f.add(e),n[t]=o(t,u(i,f,e,o)))}else n[t]=o(t,r);return n},n)}(r,new Set,e,u):e)},stringify:function(n,t,r){for(var e,u=new Map,i=[],f=[],o=t||p,c=+v(u,i,o("",n)),a=function(n,t){if(e)return e=!e,t;var r=o("",t);switch(typeof r){case"object":if(null===r)return r;case s:return u.get(r)||v(u,i,r)}return r};c<i.length;c++)e=!0,f[c]=JSON.stringify(i[c],a,r);return"["+f.join(",")+"]"}};function p(n,t){return t}function v(n,t,r){var e=c(t.push(r)-1);return n.set(r,e),e}function i(n){return n instanceof c?c(n):n}function f(n,t){return typeof t===s?new c(t):t}}(String,"string");
